## 관계형 데이터베이스의 주요 개념

### 파일시스템의 문제점
- 데이터 종속성
- 데이터 중복성
- 데이터 불일치
- 데이터 무결성의 침해
- 데이터 보안성의 어려움
- 데이터 표준화의 어려움

### 데이터베이스 특징

- 데이터 독립성 지원
- 데이터 중복성 및 불일치 최소화
- 데이터 무결성 유지
- 높은 데이터 보안성
- 데이터 표준화의 용이성
- 데이터 공유의 용이성

### 관계형 데이터베이스 용어
- 릴레이션
  - 관계형 데이터베이스에서 정보를 구분하여 저장하는 기본 단위
  - 테이블이라는 용어로 더 많이 쓰임
- 속성
  - 릴레이션에서 관리하는 구체적인 정보 항목에 해당
- 튜플
  - 릴레이션에서 각 행을 의미하며 실제로 들어가게 되는 개체들의 정보이다
- 도메인
  - 릴레이션에 포함된 각각의 속성들이 가질 수 있는 값들의 집합

### KEY
- 후보키
  - 테이블에서 각 튜플을 구별하는데 기준이 되는 하나 혹은 그 이상의 속성들의 집합
- 기본키
  - 후보키 중 튜플을 식별하는데 기준으로 사용될 키
- 대체키
  - 후보키 중 기본키로 선택되지 않은 나머지 키
- 복합키
  - 두 개 이상의 속성이 합쳐져야 후보키 역할을 하는 키
- 외래키
  - 상호 관련이 있는 테이블 사이에서 데이터의 일관성을 보장해주는 수단이 되는 키

### 추상화와 모델링
- 모델 : 사람들이 복잡한 현실세계를 쉽게 이해하기 위하여, 현실세계를 개념화, 단순화하여 가시적으로 표현한 것
- 모델링 : 모델을 만드는 과정
- 추상화 : 현실세계를 모델링하는 것을 다른말로 현실세계에 대한 추상화라고 함

### 데이터베이스 설계란?
- 현실세계를 분석하여 이를 개념적 모델로 나타내고, 이를 바탕으로 데이터베이스를구축하는 과정
- 논리적 데이터 베이스 설계
  - 현실세계를 관찰, 분석하여 개념적 모델을 만드는 과정으로 데이터모델링이라고도 한다.
- 물리적 데이터베이스 설계
  - 논리적 설계를 바탕으로 실제 데이터베이스를 구축하기 위한 테이블,뷰,인덱스 등을 설계하고 반 정규화를 시행하는 과정

### 데이터모델링
- 현실세계의 업무를 분석하여 이를 약속된 표기법을 사용하여 개념적 모델로 표현하는 과정, 전체 데이터베이스 설계에서 핵심적인 부분이다.
- 논리적 데이터 베이스 설계 과정 = 데이터 모델링
- 정보 시스템을 구축하는데 필요한 데이터를 약속된 표기법에 의해 표현함으로써 시스템 구축 대상이 되는 업무 내용을 정확하게 분석하고자 함
- 데이터모델링에서 핵심은 엔티티를 도출하는 일
<br/>
- 엔티티
  - 업무의 관심 대상이 되는 정보를 갖고 있거나 그에 대한 정보를 관리해야 할 필요가 있는 유형, 무형의 사물이나 객체
- 관계
  - 두 개 혹은 그 이상의 엔티티들 간의 의미 있는 연결
- 속성
  - 엔티티에서 관리하고자 하는 더 이상 분리되지 않는 최소 단위의 데이터

### Snowball effect
- 소프트웨어 개발 각 단계에서 실수가 최종 소프트웨어의 완성도에 영향을 미치는데, 초기 단계에서의 실수일수록 파급효과가 큼을 설명
- 분석 > 설계 > 코딩

### 데이터흐름도
- DFD : Data Flow Diagram
- 데이터베이스 설계와 직접적으로 관련이 있는 분석 정리 문서
- 시스템 내에서 데이터가 어떻게 생성되어 어떤 프로세스를 거처 어디로 저장되는지를 가시적으로 보여줌

### 엔티티
- 업무의 관심이 되는 정보를 갖고 있거나, 그에 대한 정보를 관리할 필요가 있는 유형, 무형의 사물(개체)

- **접근방법**
  - 업무를 설명한 업무 기술서를 검토
  - 협업 담당자와의 인터뷰
  - 현업에서 사용하는 장표(장부,전표)를 검토
  - 기존 시스템의 산출물 검토(시스템이 이미 구축된 경우)
  - DFD가 있다면 DFD상의 Data Store를 추출
  - 현업의 업무를 직접 견학하고 인터뷰와 업무 기술서에서 누락된 정보가 있는지 확인

- **도출과정**
  1. 엔티티 후보 풀과 엔티티 리스트를 그린다
  2. 분석 대상 문서를 보고 명사를 찾아 표시한다
  3. 명사 하나 하나에 대해 속성인지 엔티티인지를 구별한다.
  4. 중복된 명사, 혹은 유사한 의미의 명사는 하나로 정리
  5. 엔티티 후보 풀에 있는 명사를 검토한다.
  6. 도출된 엔티티에 대해 구축될 시스템에서 데이터를 관리할 필요가 있는지 검토한다
  7. 엔티티 기술서를 작성한다.

### 식별자, 관계, 속성
- **주식별자**
  - 엔티티에 소속된 인스턴스들을 구분하는 기준이 되는 속성
  - 중복된 키 값이 없어야함
  - 기본키
  - 마땅한 주식별자가 없는 경우
    - 복합 속성을 통해 주식별자를 선별하거나
    - 인위적 주식별자를 만든다
  - 인위적 주식별자의 문제점
    - 주식별자를 단순화 시킬 수 있다는 장점이 있다
    - DBMS는 서로 다른 튜플로 인식하나 의미적으로는 같은 내용을 담고 있는 중복일 수도 있다.

- **관계**
  - 두 개 혹은 그 이상의 엔티티들 간의 의미있는 연결
  - 엔티티들 찾는데 사용한 문서들을 이용한다.

- **외래식별자**
  - 두 엔티티가 관계가 있다면 자식 엔티티의 외래식별자 속성이 부모 엔티티의 주식별자를 참조
  - 관계를 올바르게 정의했다면 외래식별자는 거의 기계적으로 정의 가능

- **업무규칙**
  - 엔티티는 물리설계단계에서 테이블이 되고 테이블에는 튜플들이 저장된다.
  - 관계가 있는 두 엔티티에서 어느 한 쪽의 데이터의 변화가 생기면 두 엔티티 사이에 데이터의 불일치가 발생 할 수 있다.
  - 데이터의 불일치가 일어나지 않도록 조치를 취해야하는데 어떻게 조치를 취할 것인지를 정의한 것이 **업무규칙**이다.
  - **참조 무결성 제약 조건을 유지하기 위한 규칙** 으로, 물리적 데이터베이스에 함께 저장되며 DBMS에 의해 규칙이 수행된다
  - 부모 테이블의 튜플 삭제.수정, 자식 테이블에 새로운 튜플 추가나 수정 처리 규칙 분류

  - restrict 거절
  - cascade 같이 수정,삭제
  - set null null로 셋팅
  - set default default로 셋팅
  - none 그대로 유지

### 속성
- 엔티티 내에서 관리해야할 정보의 항복들
- **기본속성** : 업무의 분석 과정에서 도출되는 속성들로서 현실세계에 존재하는 정보를 반영
- **설계속성** : 실제 업무의 분석 내용에는 존재하지 않았지만 정보를 효과적으로 관리하기 위해 설계 차원에서 새로 만든 속성
- **유도속성** : 다른 속성들로부터 유도될 수 있는 속성
